{
    "componentName": "SingleSelect",
    "version": "0.0.27",
    "evaluationDate": "2025-11-25",
    "evaluator": "Accessibility Team",
    "overallScore": 91,
    "levelAScore": 100,
    "levelAAScore": 95,
    "levelAAAScore": 78,
    "keyboardNavigation": {
        "score": 98,
        "tabOrder": "pass",
        "focusManagement": "pass",
        "focusIndicators": "pass",
        "arrowNavigation": "pass",
        "enterSpace": "pass",
        "escapeKey": "pass",
        "homeEndKeys": "pass",
        "typeAheadSearch": "pass",
        "notes": [
            "Trigger is keyboard accessible via Tab key",
            "Enter/Space opens menu (Radix default behavior)",
            "Arrow keys navigate menu items (Up/Down)",
            "Home/End jump to first/last item (Radix default)",
            "Escape closes menu and returns focus to trigger",
            "Type-ahead search works when enableSearch is true",
            "Focus indicators clearly visible via outline",
            "Radix UI provides comprehensive keyboard support",
            "Mobile drawer accessible via keyboard"
        ]
    },
    "screenReaderSupport": {
        "score": 90,
        "ariaLabels": "pass",
        "ariaDescriptions": "fail",
        "roleUsage": "pass",
        "errorHandling": "needs-review",
        "semanticHTML": "pass",
        "stateChanges": "pass",
        "notes": [
            "Uses semantic label element via InputLabels (htmlFor association)",
            "Radix provides button role on trigger",
            "Radix manages aria-expanded state automatically",
            "Radix manages aria-activedescendant for menu navigation",
            "MISSING: aria-describedby for error messages (major gap)",
            "MISSING: aria-describedby for hint text",
            "MISSING: aria-invalid when error exists",
            "ISSUE: ChevronDown icon needs aria-hidden",
            "Selected value announced correctly via button text",
            "Menu items use proper menu item roles (Radix)"
        ]
    },
    "visualAccessibility": {
        "score": 85,
        "colorContrast": "needs-review",
        "fontSize": "pass",
        "focusIndicators": "pass",
        "reducedMotion": "fail",
        "highContrast": "needs-review",
        "textSpacing": "pass",
        "notes": [
            "Uses design tokens for consistent theming",
            "Focus states have clear visual indicators (outline)",
            "Error state uses red outline",
            "Disabled state uses gray colors with reduced opacity",
            "NEEDS VERIFICATION: Placeholder text contrast",
            "NEEDS VERIFICATION: Menu item contrast in all states",
            "NEEDS VERIFICATION: AAA contrast ratios (7:1)",
            "ISSUE: Shake animation doesn't respect prefers-reduced-motion",
            "Floating labels provide better mobile UX"
        ]
    },
    "ariaCompliance": {
        "score": 92,
        "ariaRoles": "pass",
        "ariaStates": "pass",
        "ariaProperties": "fail",
        "designPattern": "pass",
        "errorPattern": "fail",
        "notes": [
            "Follows WAI-ARIA Select/Listbox design pattern",
            "Built on Radix UI which provides correct ARIA implementation",
            "Radix manages aria-expanded for menu state",
            "Radix manages aria-activedescendant for navigation",
            "Radix provides menu and menuitem roles",
            "MISSING: aria-describedby for error messages",
            "MISSING: aria-describedby for hint text",
            "MISSING: aria-invalid on error state"
        ]
    },
    "strengths": [
        "Built on Radix UI Dropdown Menu with robust ARIA implementation",
        "Comprehensive keyboard navigation (Tab, Enter, Space, Arrow keys, Escape, Home/End)",
        "Proper label association via InputLabels component",
        "Error message and hint text support",
        "Required field indicator with visual asterisk",
        "Help icon with Tooltip for contextual assistance",
        "Search functionality with SearchInput component",
        "Responsive behavior: Drawer on mobile, Dropdown on desktop",
        "Floating labels on mobile for large size variant",
        "Disabled state properly styled and communicated",
        "Focus management via Radix (auto-focus on menu open)",
        "Error shake animation for visual feedback",
        "Virtualization support for performance",
        "Auto-generates ID from name prop",
        "Token-based theming for consistency",
        "Submenu support with proper ARIA structure",
        "Empty states handled properly"
    ],
    "recommendations": [
        "Add aria-describedby for error messages - Link trigger to error message programmatically",
        "Add aria-describedby for hint text - Link trigger to hint text when provided",
        "Combine aria-describedby - When both error and hint exist, use space-separated IDs",
        "Add aria-invalid - Set aria-invalid=\"true\" on trigger when error exists",
        "Add aria-hidden to ChevronDown - Hide decorative icons from screen readers",
        "Improve label-trigger association - Ensure label htmlFor points to trigger button ID",
        "Add prefers-reduced-motion support - Disable shake animation",
        "Verify color contrast - Measure all text/background combinations for AA and AAA",
        "Test mobile drawer - Validate drawer focus trap with screen readers",
        "Test search functionality - Ensure search input is properly announced",
        "Document keyboard patterns - Provide examples of Arrow keys, Home/End usage",
        "Test with NVDA/JAWS/VoiceOver - Validate all states and interactions",
        "Verify Radix ARIA - Ensure Radix Dropdown Menu provides correct attributes",
        "Test submenu navigation - Validate submenu keyboard access"
    ],
    "issuesFound": [
        {
            "severity": "major",
            "criterion": "4.1.3",
            "description": "Error messages not programmatically associated with trigger",
            "impact": "Screen reader users won't hear error messages when trigger receives focus",
            "suggestion": "Add aria-describedby to trigger button linking to error message ID. When errorMessage exists, set aria-describedby={`${name}-error`} on PrimitiveButton and add id={`${name}-error`} to error message in InputFooter",
            "codeReference": "SingleSelect.tsx:245-494, InputFooter.tsx"
        },
        {
            "severity": "major",
            "criterion": "1.1.1",
            "description": "ChevronDown icon not hidden from assistive technology",
            "impact": "Screen readers will announce decorative chevron icon, creating confusion",
            "suggestion": "Add aria-hidden=\"true\" to ChevronDown icon in trigger button. Icons that are purely decorative must be hidden from screen readers.",
            "codeReference": "SingleSelect.tsx:486-492, SingleSelectTrigger.tsx:231-234"
        },
        {
            "severity": "minor",
            "criterion": "2.2.2",
            "description": "Shake animation doesn't respect prefers-reduced-motion",
            "impact": "Users who prefer reduced motion will still see shake animation which may cause discomfort",
            "suggestion": "Add @media (prefers-reduced-motion: reduce) to disable shake animation. Modify useErrorShake hook or animation styles to check user preference.",
            "codeReference": "SingleSelect.tsx:24-33, error.animations.ts"
        },
        {
            "severity": "minor",
            "criterion": "1.4.3",
            "description": "Placeholder text contrast not verified",
            "impact": "Users with low vision may not be able to read placeholder text",
            "suggestion": "Verify placeholder color meets 4.5:1 contrast ratio against background. Test in all states (default, hover, focus, error).",
            "codeReference": "singleSelect.tokens.ts"
        },
        {
            "severity": "minor",
            "criterion": "1.4.6",
            "description": "Enhanced contrast (7:1) not verified for AAA",
            "impact": "Users with low vision may have difficulty reading text",
            "suggestion": "Verify all text colors (label, selected value, placeholder, menu items) meet 7:1 contrast ratio for AAA compliance.",
            "codeReference": "singleSelect.tokens.ts"
        },
        {
            "severity": "minor",
            "criterion": "3.3.2",
            "description": "Hint text not programmatically associated with trigger",
            "impact": "Screen reader users may not hear helpful hint text",
            "suggestion": "Add aria-describedby linking to hint text ID. Combine with error message ID when both exist.",
            "codeReference": "SingleSelect.tsx:245-494"
        }
    ]
}
